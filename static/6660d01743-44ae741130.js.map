{"version":3,"sources":["webpack:///./app/scripts/analytics.js","webpack:///./node_modules/autotrack/lib/constants.js","webpack:///./node_modules/autotrack/lib/method-chain.js","webpack:///./node_modules/autotrack/lib/plugins/clean-url-tracker.js","webpack:///./node_modules/autotrack/lib/plugins/media-query-tracker.js","webpack:///./node_modules/autotrack/lib/plugins/outbound-link-tracker.js","webpack:///./node_modules/autotrack/lib/plugins/page-visibility-tracker.js","webpack:///./node_modules/autotrack/lib/provide.js","webpack:///./node_modules/autotrack/lib/session.js","webpack:///./node_modules/autotrack/lib/store.js","webpack:///./node_modules/autotrack/lib/usage.js","webpack:///./node_modules/autotrack/lib/utilities.js","webpack:///./node_modules/dom-utils/lib/get-attributes.js","webpack:///./node_modules/dom-utils/lib/parse-url.js"],"names":["dimensions","TRACKING_VERSION","CLIENT_ID","WINDOW_ID","HIT_ID","HIT_TIME","HIT_TYPE","HIT_SOURCE","VISIBILITY_STATE","URL_QUERY_PARAMS","BREAKPOINT","SELECTED_PAGE","PINNED_DEMO","metrics","init","window","ga","_len","arguments","length","args","Array","_key","q","push","createTracker","trackErrors","trackCustomDimensions","requireAutotrackPlugins","__WEBPACK_IMPORTED_MODULE_4__state_js__","on","onStateChange","oldState","state","changedProps","selectedPage","pinnedDemo","has","eventCategory","eventAction","eventLabel","isSidebarDragging","sidebarWidth","eventValue","isSidebarHidden","isNavSidebarCollapsed","isNavDrawerOpen","trackError","err","undefined","fieldsObj","Object","assign","name","message","stack","nonInteraction","process","env","NODE_ENV","model","_console","paramsToIgnore","hitType","get","hit","split","map","decodeURIComponent","filter","item","_item$split","param","_slicedToArray","charAt","indexOf","parts","console","log","apply","_toConsumableArray","concat","loadErrorEvents","__e","trackErrorEvent","evt","includes","error","lineno","colno","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","value","return","addEventListener","keys","forEach","key","tracker","_tracker$set","_getState","set","_defineProperty","uuid","originalBuildHitTask","qt","String","Date","document","visibilityState","stripQuery","queryDimensionIndex","getDefinitionIndex","trailingSlash","definitions","dimensionIndex","items","media","events","sendInitialPageview","pageLoadsMetricIndex","visibleMetricIndex","timeZone","definition","exec","b","a","Math","random","toString","replace","__webpack_require__","d","__webpack_exports__","NULL_DIMENSION","VERSION","DEV_ID","VERSION_PARAM","USAGE_PARAM","instances","MethodChain","context","methodName","_this","this","_classCallCheck","isTask","test","originalMethodReference","methodChain","boundMethodChain","wrappedMethod","lastBoundMethod","methodOverride","getOrCreateMethodChain","add","remove","overrideMethod","rebindMethodChain","index","splice","destroy","method","i","previousMethod","bind","h","CleanUrlTracker","opts","__WEBPACK_IMPORTED_MODULE_4__usage__","CLEAN_URL_TRACKER","__WEBPACK_IMPORTED_MODULE_5__utilities__","queryDimension","trackerGetOverride","buildHitTaskOverride","__WEBPACK_IMPORTED_MODULE_2__method_chain__","originalMethod","field","location","page","cleanUrlFields","_this2","cleanedFieldsObj","url","__WEBPACK_IMPORTED_MODULE_0_dom_utils__","pathname","indexFilename","join","substr","stripNonWhitelistedQueryParams","search","slice","__WEBPACK_IMPORTED_MODULE_1__constants__","urlFieldsFilter","userCleanedFieldsObj","returnValue","searchString","_this3","isArray","queryParamsWhitelist","foundParams","kv","_kv$split","_kv$split2","__WEBPACK_IMPORTED_MODULE_3__provide__","mediaMap","MediaQueryTracker","__WEBPACK_IMPORTED_MODULE_2__usage__","MEDIA_QUERY_TRACKER","matchMedia","defaultOpts","changeTemplate","changeTimeout","__WEBPACK_IMPORTED_MODULE_3__utilities__","changeListeners","processMediaQueries","mediaName","getMatchName","addChangeListeners","match","getMediaList","matches","__WEBPACK_IMPORTED_MODULE_0__constants__","mql","fn","handleChanges","addListener","newValue","oldValue","defaultFields","transport","send","hitFilter","listener","removeListener","__WEBPACK_IMPORTED_MODULE_1__provide__","OutboundLinkTracker","OUTBOUND_LINK_TRACKER","linkSelector","shouldTrackOutboundLink","attributePrefix","handleLinkInteractions","delegates","event","composed","useCapture","link","href","getAttribute","type","userFields","navigator","sendBeacon","target","metaKey","ctrlKey","shiftKey","altKey","which","linkClickWillUnloadCurrentPage","clickHandler","removeEventListener","defaultPrevented","preventDefault","oldHitCallback","hitCallback","parseUrlFn","hostname","protocol","VISIBLE","PAGE_ID","__WEBPACK_IMPORTED_MODULE_6__utilities__","SECONDS","PageVisibilityTracker","__WEBPACK_IMPORTED_MODULE_5__usage__","PAGE_VISIBILITY_TRACKER","sessionTimeout","__WEBPACK_IMPORTED_MODULE_3__session__","DEFAULT_TIMEOUT","visibleThreshold","lastPageState","visibleThresholdTimeout_","isInitialPageviewSent_","trackerSetOverride","handleChange","handleWindowUnload","handleExternalStoreSet","store","__WEBPACK_IMPORTED_MODULE_4__store__","getOrCreate","session","__WEBPACK_IMPORTED_MODULE_1__method_chain__","sendPageview","isPageLoad","time","pageId","sessionId","getId","sendPageLoad","lastStoredChange","getAndValidateChangeData","change","clearTimeout","isExpired","clear","setTimeout","hitTime","sendPageVisibilityEvent","delta","getTimeSinceLastStoredChange","deltaInSeconds","round","queueTime","_defaultFields","_ref2","fields","newData","oldData","__WEBPACK_IMPORTED_MODULE_2__provide__","pluginName","pluginConstructor","gaAlias","GoogleAnalyticsObject","gaDevIds","gaplugins","__WEBPACK_IMPORTED_MODULE_1__utilities__","Session","timeout","sendHitTaskOverride","__WEBPACK_IMPORTED_MODULE_0__method_chain__","dateTimeFormatter","Intl","DateTimeFormat","__WEBPACK_IMPORTED_MODULE_1__store__","id","__WEBPACK_IMPORTED_MODULE_2__utilities__","trackingId","sessionData","oldHitTime","currentDate","oldHitDate","datesAreDifferentInTimezone","d1","d2","format","sessionControl","sessionWillStart","sessionWillEnd","AUTOTRACK_PREFIX","isListening","browserSupportsLocalStorage","Store","defaults","_possibleConstructorReturn","__proto__","getPrototypeOf","call","key_","defaults_","cache_","__WEBPACK_IMPORTED_MODULE_0__event_emitter__","namespace","storageListener","localStorage","setItem","removeItem","getItem","isSupported_","parse","get_","set_","JSON","stringify","clear_","emit","source","data","plugin","trackVersion","pluginIndex","usageBin","str","len","toAdd","padZeros","hex","parseInt","PLUGIN_COUNT","bin","trackPlugin","plugins","EVENT_TRACKER","IMPRESSION_TRACKER","OUTBOUND_FORM_TRACKER","SOCIAL_WIDGET_TRACKER","URL_CHANGE_TRACKER","MAX_SCROLL_TRACKER","buildHitTask","element","prefix","attributes","attributeFields","attribute","p1","toUpperCase","wait","callback","called","ref","queueMap","processQueue","queue","_typeof","_len2","sources","_key2","prototype","hasOwnProperty","attrs","nodeType","attr","parseUrl","cache","port","HTTP_PORT","HTTPS_PORT","host","DEFAULT_PORT","origin","hash","RegExp","createElement"],"mappings":"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","file":"6660d01743-44ae741130.js","sourcesContent":["// Import the individual autotrack plugins you want to use.\nimport 'autotrack/lib/plugins/clean-url-tracker';\nimport 'autotrack/lib/plugins/media-query-tracker';\nimport 'autotrack/lib/plugins/outbound-link-tracker';\nimport 'autotrack/lib/plugins/page-visibility-tracker';\nimport {getState, stateListener} from './state.js';\n\n\n/* global ga */\n\n\n/**\n * The tracking ID for your Google Analytics property.\n * https://support.google.com/analytics/answer/1032385\n */\nconst TRACKING_ID = 'UA-40829935-7';\n\n\n/**\n * Bump this when making backwards incompatible changes to the tracking\n * implementation. This allows you to create a segment or view filter\n * that isolates only data captured with the most recent tracking changes.\n */\nconst TRACKING_VERSION = '2';\n\n\n/**\n * A default value for dimensions so unset values always are reported as\n * something. This is needed since Google Analytics will drop empty dimension\n * values in reports.\n */\nconst NULL_VALUE = '(not set)';\n\n\n/**\n * A mapping between custom dimension names and their indexes.\n */\nconst dimensions = {\n  TRACKING_VERSION: 'dimension1',\n  CLIENT_ID: 'dimension2',\n  WINDOW_ID: 'dimension3',\n  HIT_ID: 'dimension4',\n  HIT_TIME: 'dimension5',\n  HIT_TYPE: 'dimension6',\n  HIT_SOURCE: 'dimension7',\n  VISIBILITY_STATE: 'dimension8',\n  URL_QUERY_PARAMS: 'dimension9',\n  BREAKPOINT: 'dimension10',\n  SELECTED_PAGE: 'dimension11',\n  PINNED_DEMO: 'dimension12',\n};\n\n\n/**\n * A mapping between custom metric names and their indexes.\n */\nconst metrics = {\n  PAGE_LOADS: 'metric1',\n  PAGE_VISIBLE_TIME: 'metric2',\n};\n\n\n/**\n * Initializes all the analytics setup. Creates trackers and sets initial\n * values on the trackers.\n */\nexport const init = () => {\n  // Initialize the command queue in case analytics.js hasn't loaded yet.\n  window.ga = window.ga || ((...args) => (ga.q = ga.q || []).push(args));\n\n  createTracker();\n  trackErrors();\n  trackCustomDimensions();\n  requireAutotrackPlugins();\n\n  stateListener.on('change', onStateChange);\n};\n\nconst onStateChange = (oldState, state, changedProps) => {\n  ga('set', dimensions.SELECTED_PAGE, state.selectedPage);\n  ga('set', dimensions.PINNED_DEMO, state.pinnedDemo);\n\n  if (changedProps.has('selectedPage')) {\n    ga('send', 'pageview');\n  }\n  if (changedProps.has('pinnedDemo')) {\n    ga('send', 'event', {\n      eventCategory: 'Pinned Demo',\n      eventAction: 'change',\n      eventLabel: state.pinnedDemo,\n    });\n  }\n  if (changedProps.has('isSidebarDragging')) {\n    if (!state.isSidebarDragging) {\n      ga('send', 'event', {\n        eventCategory: 'Sidebar',\n        eventAction: 'drag',\n        eventLabel: state.sidebarWidth,\n        eventValue: state.sidebarWidth,\n      });\n    }\n  }\n  if (changedProps.has('isSidebarHidden')) {\n    if (state.isSidebarHidden) {\n      ga('send', 'event', {\n        eventCategory: 'Sidebar',\n        eventAction: 'hide',\n      });\n    } else {\n      ga('send', 'event', {\n        eventCategory: 'Sidebar',\n        eventAction: 'show',\n      });\n    }\n  }\n  if (changedProps.has('isNavSidebarCollapsed')) {\n    if (state.isNavSidebarCollapsed) {\n      ga('send', 'event', {\n        eventCategory: 'Nav',\n        eventAction: 'collapse',\n      });\n    } else {\n      ga('send', 'event', {\n        eventCategory: 'Nav',\n        eventAction: 'uncollapse',\n      });\n    }\n  }\n  if (changedProps.has('isNavDrawerOpen')) {\n    if (state.isNavDrawerOpen) {\n      ga('send', 'event', {\n        eventCategory: 'Nav',\n        eventAction: 'open',\n      });\n    }\n  }\n};\n\n\n/**\n * Tracks a JavaScript error with optional fields object overrides.\n * This function is exported so it can be used in other parts of the codebase.\n * E.g.:\n *\n *    `fetch('/api.json').catch(trackError);`\n *\n * @param {(Error|Object)=} err\n * @param {Object=} fieldsObj\n */\nexport const trackError = (err = {}, fieldsObj = {}) => {\n  ga('send', 'event', Object.assign({\n    eventCategory: 'Error',\n    eventAction: err.name || '(no error name)',\n    eventLabel: `${err.message}\\n${err.stack || '(no stack trace)'}`,\n    nonInteraction: true,\n  }, fieldsObj));\n};\n\n\n/**\n * Creates the trackers and sets the default transport and tracking\n * version fields. In non-production environments it also logs hits.\n */\nconst createTracker = () => {\n  ga('create', TRACKING_ID, 'auto');\n\n  // Ensures all hits are sent via `navigator.sendBeacon()`.\n  ga('set', 'transport', 'beacon');\n\n  // Log hits in non-production environments.\n  if (process.env.NODE_ENV !== 'production') {\n    ga('set', 'sendHitTask', function(model) {\n      let paramsToIgnore = ['v', 'did', 't', 'tid', 'ec', 'ea', 'el', 'ev',\n          'a', 'z', 'ul', 'de', 'sd', 'sr', 'vp', 'je', 'fl', 'jid'];\n\n      let hitType = model.get('&t');\n      let hitPayload = model.get('hitPayload');\n      let hit = hitPayload\n          .split('&')\n          .map(decodeURIComponent)\n          .filter((item) => {\n            const [param] = item.split('=');\n            return !(param.charAt(0) === '_' ||\n                paramsToIgnore.indexOf(param) > -1);\n          });\n\n      let parts = [model.get('&tid'), hitType];\n      if (hitType === 'event') {\n        parts = [\n          ...parts,\n          model.get('&ec'),\n          model.get('&ea'),\n          model.get('&el'),\n        ];\n        if (model.get('&ev')) parts.push(model.get('&ev'));\n      }\n\n      // eslint-disable-next-line no-console\n      console.log(...parts, hit);\n    });\n  }\n};\n\n\n/**\n * Tracks any errors that may have occured on the page prior to analytics being\n * initialized, then adds an event handler to track future errors.\n */\nconst trackErrors = () => {\n  // Errors that have occurred prior to this script running are stored on\n  // `window.__e.q`, as specified in `index.html`.\n  const loadErrorEvents = window.__e && window.__e.q || [];\n\n  const trackErrorEvent = (evt) => {\n    // Use a different eventCategory for uncaught errors.\n    const fieldsObj = {eventCategory: 'Uncaught Error'};\n\n    // Ignore the ResizeObserver loop limit exceeded error.\n    if (evt.message.includes('ResizeObserver loop limit exceeded')) {\n      return;\n    }\n\n    // Some browsers don't have an error property, so we fake it.\n    const err = evt.error || {\n      message: `${evt.message} (${evt.lineno}:${evt.colno})`,\n    };\n\n    trackError(err, fieldsObj);\n  };\n\n  // Replay any stored load error events.\n  for (let evt of loadErrorEvents) {\n    trackErrorEvent(evt);\n  }\n\n  // Add a new listener to track event immediately.\n  window.addEventListener('error', trackErrorEvent);\n};\n\n/**\n * Sets a default dimension value for all custom dimensions on all trackers.\n */\nconst trackCustomDimensions = () => {\n  // Sets a default dimension value for all custom dimensions to ensure\n  // that every dimension in every hit has *some* value. This is necessary\n  // because Google Analytics will drop rows with empty dimension values\n  // in your reports.\n  Object.keys(dimensions).forEach((key) => {\n    ga('set', dimensions[key], NULL_VALUE);\n  });\n\n  // Adds tracking of dimensions known at page load time.\n  ga((tracker) => {\n    const {selectedPage, pinnedDemo} = getState();\n    tracker.set({\n      // General dimensions\n      [dimensions.TRACKING_VERSION]: TRACKING_VERSION,\n      [dimensions.CLIENT_ID]: tracker.get('clientId'),\n      [dimensions.WINDOW_ID]: uuid(),\n      // Demo dimensions\n      [dimensions.SELECTED_PAGE]: selectedPage,\n      [dimensions.PINNED_DEMO]: pinnedDemo,\n    });\n  });\n\n  // Adds tracking to record each the type, time, uuid, and visibility state\n  // of each hit immediately before it's sent.\n  ga((tracker) => {\n    const originalBuildHitTask = tracker.get('buildHitTask');\n    tracker.set('buildHitTask', (model) => {\n      const qt = model.get('queueTime') || 0;\n      model.set(dimensions.HIT_TIME, String(new Date - qt), true);\n      model.set(dimensions.HIT_ID, uuid(), true);\n      model.set(dimensions.HIT_TYPE, model.get('hitType'), true);\n      model.set(dimensions.VISIBILITY_STATE, document.visibilityState, true);\n\n      originalBuildHitTask(model);\n    });\n  });\n};\n\n/**\n * Requires select autotrack plugins and initializes each one with its\n * respective configuration options.\n */\nconst requireAutotrackPlugins = () => {\n  ga('require', 'cleanUrlTracker', {\n    stripQuery: true,\n    queryDimensionIndex: getDefinitionIndex(dimensions.URL_QUERY_PARAMS),\n    trailingSlash: 'add',\n  });\n  ga('require', 'mediaQueryTracker', {\n    definitions: [\n      {\n        name: 'Breakpoint',\n        dimensionIndex: getDefinitionIndex(dimensions.BREAKPOINT),\n        items: [\n          {name: 'XS', media: 'all'},\n          {name: 'SM', media: '(min-width: 24em)'},\n          {name: 'MD', media: '(min-width: 36em)'},\n          {name: 'LG', media: '(min-width: 48em)'},\n          {name: 'XL', media: '(min-width: 60em)'},\n        ],\n      },\n    ],\n  });\n  ga('require', 'outboundLinkTracker', {\n    events: ['click', 'auxclick', 'contextmenu'],\n  });\n  ga('require', 'pageVisibilityTracker', {\n    sendInitialPageview: true,\n    pageLoadsMetricIndex: getDefinitionIndex(metrics.PAGE_LOADS),\n    visibleMetricIndex: getDefinitionIndex(metrics.PAGE_VISIBLE_TIME),\n    timeZone: 'America/Los_Angeles',\n    fieldsObj: {[dimensions.HIT_SOURCE]: 'pageVisibilityTracker'},\n  });\n};\n\n/**\n * Accepts a custom dimension or metric and returns it's numerical index.\n * @param {string} definition The definition string (e.g. 'dimension1').\n * @return {number} The definition index.\n */\nconst getDefinitionIndex = (definition) => +/\\d+$/.exec(definition)[0];\n\n/**\n * Generates a UUID.\n * https://gist.github.com/jed/982883\n * @param {string|undefined=} a\n * @return {string}\n */\nconst uuid = function b(a) {\n  return a ? (a ^ Math.random() * 16 >> a / 4).toString(16) :\n      ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, b);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./app/scripts/analytics.js","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nexport const VERSION = '2.4.1';\nexport const DEV_ID = 'i5iSjo';\n\nexport const VERSION_PARAM = '_av';\nexport const USAGE_PARAM = '_au';\n\nexport const NULL_DIMENSION = '(not set)';\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/autotrack/lib/constants.js","/**\n * Copyright 2017 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * @fileoverview\n * The functions exported by this module make it easier (and safer) to override\n * foreign object methods (in a modular way) and respond to or modify their\n * invocation. The primary feature is the ability to override a method without\n * worrying if it's already been overridden somewhere else in the codebase. It\n * also allows for safe restoring of an overridden method by only fully\n * restoring a method once all overrides have been removed.\n */\n\n\nconst instances = [];\n\n\n/**\n * A class that wraps a foreign object method and emit events before and\n * after the original method is called.\n */\nexport default class MethodChain {\n  /**\n   * Adds the passed override method to the list of method chain overrides.\n   * @param {!Object} context The object containing the method to chain.\n   * @param {string} methodName The name of the method on the object.\n   * @param {!Function} methodOverride The override method to add.\n   */\n  static add(context, methodName, methodOverride) {\n    getOrCreateMethodChain(context, methodName).add(methodOverride);\n  }\n\n  /**\n   * Removes a method chain added via `add()`. If the override is the\n   * only override added, the original method is restored.\n   * @param {!Object} context The object containing the method to unchain.\n   * @param {string} methodName The name of the method on the object.\n   * @param {!Function} methodOverride The override method to remove.\n   */\n  static remove(context, methodName, methodOverride) {\n    getOrCreateMethodChain(context, methodName).remove(methodOverride);\n  }\n\n  /**\n   * Wraps a foreign object method and overrides it. Also stores a reference\n   * to the original method so it can be restored later.\n   * @param {!Object} context The object containing the method.\n   * @param {string} methodName The name of the method on the object.\n   */\n  constructor(context, methodName) {\n    this.context = context;\n    this.methodName = methodName;\n    this.isTask = /Task$/.test(methodName);\n\n    this.originalMethodReference = this.isTask ?\n        context.get(methodName) : context[methodName];\n\n    this.methodChain = [];\n    this.boundMethodChain = [];\n\n    // Wraps the original method.\n    this.wrappedMethod = (...args) => {\n      const lastBoundMethod =\n          this.boundMethodChain[this.boundMethodChain.length - 1];\n\n      return lastBoundMethod(...args);\n    };\n\n    // Override original method with the wrapped one.\n    if (this.isTask) {\n      context.set(methodName, this.wrappedMethod);\n    } else {\n      context[methodName] = this.wrappedMethod;\n    }\n  }\n\n  /**\n   * Adds a method to the method chain.\n   * @param {!Function} overrideMethod The override method to add.\n   */\n  add(overrideMethod) {\n    this.methodChain.push(overrideMethod);\n    this.rebindMethodChain();\n  }\n\n  /**\n   * Removes a method from the method chain and restores the prior order.\n   * @param {!Function} overrideMethod The override method to remove.\n   */\n  remove(overrideMethod) {\n    const index = this.methodChain.indexOf(overrideMethod);\n    if (index > -1) {\n      this.methodChain.splice(index, 1);\n      if (this.methodChain.length > 0) {\n        this.rebindMethodChain();\n      } else {\n        this.destroy();\n      }\n    }\n  }\n\n  /**\n   * Loops through the method chain array and recreates the bound method\n   * chain array. This is necessary any time a method is added or removed\n   * to ensure proper original method context and order.\n   */\n  rebindMethodChain() {\n    this.boundMethodChain = [];\n    for (let method, i = 0; method = this.methodChain[i]; i++) {\n      const previousMethod = this.boundMethodChain[i - 1] ||\n          this.originalMethodReference.bind(this.context);\n      this.boundMethodChain.push(method(previousMethod));\n    }\n  }\n\n  /**\n   * Calls super and destroys the instance if no registered handlers remain.\n   */\n  destroy() {\n    const index = instances.indexOf(this);\n    if (index > -1) {\n      instances.splice(index, 1);\n      if (this.isTask) {\n        this.context.set(this.methodName, this.originalMethodReference);\n      } else {\n        this.context[this.methodName] = this.originalMethodReference;\n      }\n    }\n  }\n}\n\n\n/**\n * Gets a MethodChain instance for the passed object and method. If the method\n * has already been wrapped via an existing MethodChain instance, that\n * instance is returned.\n * @param {!Object} context The object containing the method.\n * @param {string} methodName The name of the method on the object.\n * @return {!MethodChain}\n */\nfunction getOrCreateMethodChain(context, methodName) {\n  let methodChain = instances\n      .filter((h) => h.context == context && h.methodName == methodName)[0];\n\n  if (!methodChain) {\n    methodChain = new MethodChain(context, methodName);\n    instances.push(methodChain);\n  }\n  return methodChain;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/autotrack/lib/method-chain.js","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nimport {parseUrl} from 'dom-utils';\nimport {NULL_DIMENSION} from '../constants';\nimport MethodChain from '../method-chain';\nimport provide from '../provide';\nimport {plugins, trackUsage} from '../usage';\nimport {assign} from '../utilities';\n\n\n/**\n * Class for the `cleanUrlTracker` analytics.js plugin.\n * @implements {CleanUrlTrackerPublicInterface}\n */\nclass CleanUrlTracker {\n  /**\n   * Registers clean URL tracking on a tracker object. The clean URL tracker\n   * removes query parameters from the page value reported to Google Analytics.\n   * It also helps to prevent tracking similar URLs, e.g. sometimes ending a\n   * URL with a slash and sometimes not.\n   * @param {!Tracker} tracker Passed internally by analytics.js\n   * @param {?CleanUrlTrackerOpts} opts Passed by the require command.\n   */\n  constructor(tracker, opts) {\n    trackUsage(tracker, plugins.CLEAN_URL_TRACKER);\n\n    /** @type {CleanUrlTrackerOpts} */\n    const defaultOpts = {\n      // stripQuery: undefined,\n      // queryParamsWhitelist: undefined,\n      // queryDimensionIndex: undefined,\n      // indexFilename: undefined,\n      // trailingSlash: undefined,\n      // urlFilter: undefined,\n    };\n    this.opts = /** @type {CleanUrlTrackerOpts} */ (assign(defaultOpts, opts));\n\n    this.tracker = tracker;\n\n    /** @type {string|null} */\n    this.queryDimension = this.opts.stripQuery &&\n        this.opts.queryDimensionIndex ?\n            `dimension${this.opts.queryDimensionIndex}` : null;\n\n    // Binds methods to `this`.\n    this.trackerGetOverride = this.trackerGetOverride.bind(this);\n    this.buildHitTaskOverride = this.buildHitTaskOverride.bind(this);\n\n    // Override built-in tracker method to watch for changes.\n    MethodChain.add(tracker, 'get', this.trackerGetOverride);\n    MethodChain.add(tracker, 'buildHitTask', this.buildHitTaskOverride);\n  }\n\n  /**\n   * Ensures reads of the tracker object by other plugins always see the\n   * \"cleaned\" versions of all URL fields.\n   * @param {function(string):*} originalMethod A reference to the overridden\n   *     method.\n   * @return {function(string):*}\n   */\n  trackerGetOverride(originalMethod) {\n    return (field) => {\n      if (field == 'page' || field == this.queryDimension) {\n        const fieldsObj = /** @type {!FieldsObj} */ ({\n          location: originalMethod('location'),\n          page: originalMethod('page'),\n        });\n        const cleanedFieldsObj = this.cleanUrlFields(fieldsObj);\n        return cleanedFieldsObj[field];\n      } else {\n        return originalMethod(field);\n      }\n    };\n  }\n\n  /**\n   * Cleans URL fields passed in a send command.\n   * @param {function(!Model)} originalMethod A reference to the\n   *     overridden method.\n   * @return {function(!Model)}\n   */\n  buildHitTaskOverride(originalMethod) {\n    return (model) => {\n      const cleanedFieldsObj = this.cleanUrlFields({\n        location: model.get('location'),\n        page: model.get('page'),\n      });\n      model.set(cleanedFieldsObj, null, true);\n      originalMethod(model);\n    };\n  }\n\n  /**\n   * Accepts of fields object containing URL fields and returns a new\n   * fields object with the URLs \"cleaned\" according to the tracker options.\n   * @param {!FieldsObj} fieldsObj\n   * @return {!FieldsObj}\n   */\n  cleanUrlFields(fieldsObj) {\n    const url = parseUrl(\n        /** @type {string} */ (fieldsObj.page || fieldsObj.location));\n\n    let pathname = url.pathname;\n\n    // If an index filename was provided, remove it if it appears at the end\n    // of the URL.\n    if (this.opts.indexFilename) {\n      const parts = pathname.split('/');\n      if (this.opts.indexFilename == parts[parts.length - 1]) {\n        parts[parts.length - 1] = '';\n        pathname = parts.join('/');\n      }\n    }\n\n    // Ensure the URL ends with or doesn't end with slash based on the\n    // `trailingSlash` option. Note that filename URLs should never contain\n    // a trailing slash.\n    if (this.opts.trailingSlash == 'remove') {\n        pathname = pathname.replace(/\\/+$/, '');\n    } else if (this.opts.trailingSlash == 'add') {\n      const isFilename = /\\.\\w+$/.test(pathname);\n      if (!isFilename && pathname.substr(-1) != '/') {\n        pathname = pathname + '/';\n      }\n    }\n\n    /** @type {!FieldsObj} */\n    const cleanedFieldsObj = {\n      page: pathname + (this.opts.stripQuery ?\n          this.stripNonWhitelistedQueryParams(url.search) : url.search),\n    };\n    if (fieldsObj.location) {\n      cleanedFieldsObj.location = fieldsObj.location;\n    }\n    if (this.queryDimension) {\n      cleanedFieldsObj[this.queryDimension] =\n          url.search.slice(1) || NULL_DIMENSION;\n    }\n\n    // Apply the `urlFieldsFilter()` option if passed.\n    if (typeof this.opts.urlFieldsFilter == 'function') {\n      /** @type {!FieldsObj} */\n      const userCleanedFieldsObj =\n          this.opts.urlFieldsFilter(cleanedFieldsObj, parseUrl);\n\n      // Ensure only the URL fields are returned.\n      const returnValue = {\n        page: userCleanedFieldsObj.page,\n        location: userCleanedFieldsObj.location,\n      };\n      if (this.queryDimension) {\n        returnValue[this.queryDimension] =\n            userCleanedFieldsObj[this.queryDimension];\n      }\n      return returnValue;\n    } else {\n      return cleanedFieldsObj;\n    }\n  }\n\n  /**\n   * Accpets a raw URL search string and returns a new search string containing\n   * only the site search params (if they exist).\n   * @param {string} searchString The URL search string (starting with '?').\n   * @return {string} The query string\n   */\n  stripNonWhitelistedQueryParams(searchString) {\n    if (Array.isArray(this.opts.queryParamsWhitelist)) {\n      const foundParams = [];\n      searchString.slice(1).split('&').forEach((kv) => {\n        const [key, value] = kv.split('=');\n        if (this.opts.queryParamsWhitelist.indexOf(key) > -1 && value) {\n          foundParams.push([key, value]);\n        }\n      });\n\n      return foundParams.length ?\n          '?' + foundParams.map((kv) => kv.join('=')).join('&') : '';\n    } else {\n      return '';\n    }\n  }\n\n  /**\n   * Restores all overridden tasks and methods.\n   */\n  remove() {\n    MethodChain.remove(this.tracker, 'get', this.trackerGetOverride);\n    MethodChain.remove(this.tracker, 'buildHitTask', this.buildHitTaskOverride);\n  }\n}\n\n\nprovide('cleanUrlTracker', CleanUrlTracker);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/autotrack/lib/plugins/clean-url-tracker.js","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nimport {NULL_DIMENSION} from '../constants';\nimport provide from '../provide';\nimport {plugins, trackUsage} from '../usage';\nimport {assign, createFieldsObj,\n        debounce, isObject, toArray} from '../utilities';\n\n\n/**\n * Declares the MediaQueryList instance cache.\n */\nconst mediaMap = {};\n\n\n/**\n * Class for the `mediaQueryTracker` analytics.js plugin.\n * @implements {MediaQueryTrackerPublicInterface}\n */\nclass MediaQueryTracker {\n  /**\n   * Registers media query tracking.\n   * @param {!Tracker} tracker Passed internally by analytics.js\n   * @param {?Object} opts Passed by the require command.\n   */\n  constructor(tracker, opts) {\n    trackUsage(tracker, plugins.MEDIA_QUERY_TRACKER);\n\n    // Feature detects to prevent errors in unsupporting browsers.\n    if (!window.matchMedia) return;\n\n    /** @type {MediaQueryTrackerOpts} */\n    const defaultOpts = {\n      // definitions: unefined,\n      changeTemplate: this.changeTemplate,\n      changeTimeout: 1000,\n      fieldsObj: {},\n      // hitFilter: undefined,\n    };\n\n    this.opts = /** @type {MediaQueryTrackerOpts} */ (\n        assign(defaultOpts, opts));\n\n    // Exits early if media query data doesn't exist.\n    if (!isObject(this.opts.definitions)) return;\n\n    this.opts.definitions = toArray(this.opts.definitions);\n    this.tracker = tracker;\n    this.changeListeners = [];\n\n    this.processMediaQueries();\n  }\n\n  /**\n   * Loops through each media query definition, sets the custom dimenion data,\n   * and adds the change listeners.\n   */\n  processMediaQueries() {\n    this.opts.definitions.forEach((definition) => {\n      // Only processes definitions with a name and index.\n      if (definition.name && definition.dimensionIndex) {\n        const mediaName = this.getMatchName(definition);\n        this.tracker.set('dimension' + definition.dimensionIndex, mediaName);\n\n        this.addChangeListeners(definition);\n      }\n    });\n  }\n\n  /**\n   * Takes a definition object and return the name of the matching media item.\n   * If no match is found, the NULL_DIMENSION value is returned.\n   * @param {Object} definition A set of named media queries associated\n   *     with a single custom dimension.\n   * @return {string} The name of the matched media or NULL_DIMENSION.\n   */\n  getMatchName(definition) {\n    let match;\n\n    definition.items.forEach((item) => {\n      if (getMediaList(item.media).matches) {\n        match = item;\n      }\n    });\n    return match ? match.name : NULL_DIMENSION;\n  }\n\n  /**\n   * Adds change listeners to each media query in the definition list.\n   * Debounces the changes to prevent unnecessary hits from being sent.\n   * @param {Object} definition A set of named media queries associated\n   *     with a single custom dimension\n   */\n  addChangeListeners(definition) {\n    definition.items.forEach((item) => {\n      const mql = getMediaList(item.media);\n      const fn = debounce(() => {\n        this.handleChanges(definition);\n      }, this.opts.changeTimeout);\n\n      mql.addListener(fn);\n      this.changeListeners.push({mql, fn});\n    });\n  }\n\n  /**\n   * Handles changes to the matched media. When the new value differs from\n   * the old value, a change event is sent.\n   * @param {Object} definition A set of named media queries associated\n   *     with a single custom dimension\n   */\n  handleChanges(definition) {\n    const newValue = this.getMatchName(definition);\n    const oldValue = this.tracker.get('dimension' + definition.dimensionIndex);\n\n    if (newValue !== oldValue) {\n      this.tracker.set('dimension' + definition.dimensionIndex, newValue);\n\n      /** @type {FieldsObj} */\n      const defaultFields = {\n        transport: 'beacon',\n        eventCategory: definition.name,\n        eventAction: 'change',\n        eventLabel: this.opts.changeTemplate(oldValue, newValue),\n        nonInteraction: true,\n      };\n      this.tracker.send('event', createFieldsObj(defaultFields,\n          this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n    }\n  }\n\n  /**\n   * Removes all event listeners and instance properties.\n   */\n  remove() {\n    for (let i = 0, listener; listener = this.changeListeners[i]; i++) {\n      listener.mql.removeListener(listener.fn);\n    }\n  }\n\n  /**\n   * Sets the default formatting of the change event label.\n   * This can be overridden by setting the `changeTemplate` option.\n   * @param {string} oldValue The value of the media query prior to the change.\n   * @param {string} newValue The value of the media query after the change.\n   * @return {string} The formatted event label.\n   */\n  changeTemplate(oldValue, newValue) {\n    return oldValue + ' => ' + newValue;\n  }\n}\n\n\nprovide('mediaQueryTracker', MediaQueryTracker);\n\n\n/**\n * Accepts a media query and returns a MediaQueryList object.\n * Caches the values to avoid multiple unnecessary instances.\n * @param {string} media A media query value.\n * @return {MediaQueryList} The matched media.\n */\nfunction getMediaList(media) {\n  return mediaMap[media] || (mediaMap[media] = window.matchMedia(media));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/autotrack/lib/plugins/media-query-tracker.js","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nimport {delegate, parseUrl} from 'dom-utils';\nimport provide from '../provide';\nimport {plugins, trackUsage} from '../usage';\nimport {assign, createFieldsObj,\n        getAttributeFields, withTimeout} from '../utilities';\n\n\n/**\n * Class for the `outboundLinkTracker` analytics.js plugin.\n * @implements {OutboundLinkTrackerPublicInterface}\n */\nclass OutboundLinkTracker {\n  /**\n   * Registers outbound link tracking on a tracker object.\n   * @param {!Tracker} tracker Passed internally by analytics.js\n   * @param {?Object} opts Passed by the require command.\n   */\n  constructor(tracker, opts) {\n    trackUsage(tracker, plugins.OUTBOUND_LINK_TRACKER);\n\n    // Feature detects to prevent errors in unsupporting browsers.\n    if (!window.addEventListener) return;\n\n    /** @type {OutboundLinkTrackerOpts} */\n    const defaultOpts = {\n      events: ['click'],\n      linkSelector: 'a, area',\n      shouldTrackOutboundLink: this.shouldTrackOutboundLink,\n      fieldsObj: {},\n      attributePrefix: 'ga-',\n      // hitFilter: undefined,\n    };\n\n    this.opts = /** @type {OutboundLinkTrackerOpts} */ (\n        assign(defaultOpts, opts));\n\n    this.tracker = tracker;\n\n    // Binds methods.\n    this.handleLinkInteractions = this.handleLinkInteractions.bind(this);\n\n    // Creates a mapping of events to their delegates\n    this.delegates = {};\n    this.opts.events.forEach((event) => {\n      this.delegates[event] = delegate(document, event, this.opts.linkSelector,\n          this.handleLinkInteractions, {composed: true, useCapture: true});\n    });\n  }\n\n  /**\n   * Handles all interactions on link elements. A link is considered an outbound\n   * link if its hostname property does not match location.hostname. When the\n   * beacon transport method is not available, the links target is set to\n   * \"_blank\" to ensure the hit can be sent.\n   * @param {Event} event The DOM click event.\n   * @param {Element} link The delegated event target.\n   */\n  handleLinkInteractions(event, link) {\n    if (this.opts.shouldTrackOutboundLink(link, parseUrl)) {\n      const href = link.getAttribute('href') || link.getAttribute('xlink:href');\n      const url = parseUrl(href);\n\n      /** @type {FieldsObj} */\n      const defaultFields = {\n        transport: 'beacon',\n        eventCategory: 'Outbound Link',\n        eventAction: event.type,\n        eventLabel: url.href,\n      };\n\n      /** @type {FieldsObj} */\n      const userFields = assign({}, this.opts.fieldsObj,\n          getAttributeFields(link, this.opts.attributePrefix));\n\n      const fieldsObj = createFieldsObj(defaultFields, userFields,\n          this.tracker, this.opts.hitFilter, link, event);\n\n      if (!navigator.sendBeacon &&\n          linkClickWillUnloadCurrentPage(event, link)) {\n        // Adds a new event handler at the last minute to minimize the chances\n        // that another event handler for this click will run after this logic.\n        const clickHandler = () => {\n          window.removeEventListener('click', clickHandler);\n\n          // Checks to make sure another event handler hasn't already prevented\n          // the default action. If it has the custom redirect isn't needed.\n          if (!event.defaultPrevented) {\n            // Stops the click and waits until the hit is complete (with\n            // timeout) for browsers that don't support beacon.\n            event.preventDefault();\n\n            const oldHitCallback = fieldsObj.hitCallback;\n            fieldsObj.hitCallback = withTimeout(function() {\n              if (typeof oldHitCallback == 'function') oldHitCallback();\n              location.href = href;\n            });\n          }\n          this.tracker.send('event', fieldsObj);\n        };\n        window.addEventListener('click', clickHandler);\n      } else {\n        this.tracker.send('event', fieldsObj);\n      }\n    }\n  }\n\n  /**\n   * Determines whether or not the tracker should send a hit when a link is\n   * clicked. By default links with a hostname property not equal to the current\n   * hostname are tracked.\n   * @param {Element} link The link that was clicked on.\n   * @param {Function} parseUrlFn A cross-browser utility method for url\n   *     parsing (note: renamed to disambiguate when compiling).\n   * @return {boolean} Whether or not the link should be tracked.\n   */\n  shouldTrackOutboundLink(link, parseUrlFn) {\n    const href = link.getAttribute('href') || link.getAttribute('xlink:href');\n    const url = parseUrlFn(href);\n    return url.hostname != location.hostname &&\n        url.protocol.slice(0, 4) == 'http';\n  }\n\n  /**\n   * Removes all event listeners and instance properties.\n   */\n  remove() {\n    Object.keys(this.delegates).forEach((key) => {\n      this.delegates[key].destroy();\n    });\n  }\n}\n\n\nprovide('outboundLinkTracker', OutboundLinkTracker);\n\n\n/**\n * Determines if a link click event will cause the current page to upload.\n * Note: most link clicks *will* cause the current page to unload because they\n * initiate a page navigation. The most common reason a link click won't cause\n * the page to unload is if the clicked was to open the link in a new tab.\n * @param {Event} event The DOM event.\n * @param {Element} link The link element clicked on.\n * @return {boolean} True if the current page will be unloaded.\n */\nfunction linkClickWillUnloadCurrentPage(event, link) {\n  return !(\n      // The event type can be customized; we only care about clicks here.\n      event.type != 'click' ||\n      // Links with target=\"_blank\" set will open in a new window/tab.\n      link.target == '_blank' ||\n      // On mac, command clicking will open a link in a new tab. Control\n      // clicking does this on windows.\n      event.metaKey || event.ctrlKey ||\n      // Shift clicking in Chrome/Firefox opens the link in a new window\n      // In Safari it adds the URL to a favorites list.\n      event.shiftKey ||\n      // On Mac, clicking with the option key is used to download a resouce.\n      event.altKey ||\n      // Middle mouse button clicks (which == 2) are used to open a link\n      // in a new tab, and right clicks (which == 3) on Firefox trigger\n      // a click event.\n      event.which > 1);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/autotrack/lib/plugins/outbound-link-tracker.js","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nimport {NULL_DIMENSION} from '../constants';\nimport MethodChain from '../method-chain';\nimport provide from '../provide';\nimport Session from '../session';\nimport Store from '../store';\nimport {plugins, trackUsage} from '../usage';\nimport {assign, createFieldsObj, deferUntilPluginsLoaded,\n    isObject, now, uuid} from '../utilities';\n\n\nconst HIDDEN = 'hidden';\nconst VISIBLE = 'visible';\nconst PAGE_ID = uuid();\nconst SECONDS = 1000;\n\n\n/**\n * Class for the `pageVisibilityTracker` analytics.js plugin.\n * @implements {PageVisibilityTrackerPublicInterface}\n */\nclass PageVisibilityTracker {\n  /**\n   * Registers outbound link tracking on tracker object.\n   * @param {!Tracker} tracker Passed internally by analytics.js\n   * @param {?Object} opts Passed by the require command.\n   */\n  constructor(tracker, opts) {\n    trackUsage(tracker, plugins.PAGE_VISIBILITY_TRACKER);\n\n    // Feature detects to prevent errors in unsupporting browsers.\n    if (!document.visibilityState) return;\n\n    /** @type {PageVisibilityTrackerOpts} */\n    const defaultOpts = {\n      sessionTimeout: Session.DEFAULT_TIMEOUT,\n      visibleThreshold: 5 * SECONDS,\n      // timeZone: undefined,\n      sendInitialPageview: false,\n      // pageLoadsMetricIndex: undefined,\n      // visibleMetricIndex: undefined,\n      fieldsObj: {},\n      // hitFilter: undefined\n    };\n\n    this.opts = /** @type {PageVisibilityTrackerOpts} */ (\n        assign(defaultOpts, opts));\n\n    this.tracker = tracker;\n    this.lastPageState = document.visibilityState;\n    this.visibleThresholdTimeout_ = null;\n    this.isInitialPageviewSent_ = false;\n\n    // Binds methods to `this`.\n    this.trackerSetOverride = this.trackerSetOverride.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleWindowUnload = this.handleWindowUnload.bind(this);\n    this.handleExternalStoreSet = this.handleExternalStoreSet.bind(this);\n\n    // Creates the store and binds storage change events.\n    this.store = Store.getOrCreate(\n        tracker.get('trackingId'), 'plugins/page-visibility-tracker');\n    this.store.on('externalSet', this.handleExternalStoreSet);\n\n    // Creates the session and binds session events.\n    this.session = Session.getOrCreate(\n        tracker, this.opts.sessionTimeout, this.opts.timeZone);\n\n    // Override the built-in tracker.set method to watch for changes.\n    MethodChain.add(tracker, 'set', this.trackerSetOverride);\n\n    window.addEventListener('unload', this.handleWindowUnload);\n    document.addEventListener('visibilitychange', this.handleChange);\n\n    // Postpone sending any hits until the next call stack, which allows all\n    // autotrack plugins to be required sync before any hits are sent.\n    deferUntilPluginsLoaded(this.tracker, () => {\n      if (document.visibilityState == VISIBLE) {\n        if (this.opts.sendInitialPageview) {\n          this.sendPageview({isPageLoad: true});\n          this.isInitialPageviewSent_ = true;\n        }\n        this.store.set(/** @type {PageVisibilityStoreData} */ ({\n          time: now(),\n          state: VISIBLE,\n          pageId: PAGE_ID,\n          sessionId: this.session.getId(),\n        }));\n      } else {\n        if (this.opts.sendInitialPageview && this.opts.pageLoadsMetricIndex) {\n          this.sendPageLoad();\n        }\n      }\n    });\n  }\n\n  /**\n   * Inspects the last visibility state change data and determines if a\n   * visibility event needs to be tracked based on the current visibility\n   * state and whether or not the session has expired. If the session has\n   * expired, a change to `visible` will trigger an additional pageview.\n   * This method also sends as the event value (and optionally a custom metric)\n   * the elapsed time between this event and the previously reported change\n   * in the same session, allowing you to more accurately determine when users\n   * were actually looking at your page versus when it was in the background.\n   */\n  handleChange() {\n    if (!(document.visibilityState == VISIBLE ||\n        document.visibilityState == HIDDEN)) {\n      return;\n    }\n\n    const lastStoredChange = this.getAndValidateChangeData();\n\n    /** @type {PageVisibilityStoreData} */\n    const change = {\n      time: now(),\n      state: document.visibilityState,\n      pageId: PAGE_ID,\n      sessionId: this.session.getId(),\n    };\n\n    // If the visibilityState has changed to visible and the initial pageview\n    // has not been sent (and the `sendInitialPageview` option is `true`).\n    // Send the initial pageview now.\n    if (document.visibilityState == VISIBLE &&\n        this.opts.sendInitialPageview && !this.isInitialPageviewSent_) {\n      this.sendPageview();\n      this.isInitialPageviewSent_ = true;\n    }\n\n    // If the visibilityState has changed to hidden, clear any scheduled\n    // pageviews waiting for the visibleThreshold timeout.\n    if (document.visibilityState == HIDDEN && this.visibleThresholdTimeout_) {\n      clearTimeout(this.visibleThresholdTimeout_);\n    }\n\n    if (this.session.isExpired(lastStoredChange.sessionId)) {\n      this.store.clear();\n      if (this.lastPageState == HIDDEN &&\n          document.visibilityState == VISIBLE) {\n        // If the session has expired, changes from hidden to visible should\n        // be considered a new pageview rather than a visibility event.\n        // This behavior ensures all sessions contain a pageview so\n        // session-level page dimensions and metrics (e.g. ga:landingPagePath\n        // and ga:entrances) are correct.\n        // Also, in order to prevent false positives, we add a small timeout\n        // that is cleared if the visibilityState changes to hidden shortly\n        // after the change to visible. This can happen if a user is quickly\n        // switching through their open tabs but not actually interacting with\n        // and of them. It can also happen when a user goes to a tab just to\n        // immediately close it. Such cases should not be considered pageviews.\n        clearTimeout(this.visibleThresholdTimeout_);\n        this.visibleThresholdTimeout_ = setTimeout(() => {\n          this.store.set(change);\n          this.sendPageview({hitTime: change.time});\n        }, this.opts.visibleThreshold);\n      }\n    } else {\n      if (lastStoredChange.pageId == PAGE_ID &&\n          lastStoredChange.state == VISIBLE) {\n        this.sendPageVisibilityEvent(lastStoredChange);\n      }\n      this.store.set(change);\n    }\n\n    this.lastPageState = document.visibilityState;\n  }\n\n  /**\n   * Retroactively updates the stored change data in cases where it's known to\n   * be out of sync.\n   * This plugin keeps track of each visiblity change and stores the last one\n   * in localStorage. LocalStorage is used to handle situations where the user\n   * has multiple page open at the same time and we don't want to\n   * double-report page visibility in those cases.\n   * However, a problem can occur if a user closes a page when one or more\n   * visible pages are still open. In such cases it's impossible to know\n   * which of the remaining pages the user will interact with next.\n   * To solve this problem we wait for the next change on any page and then\n   * retroactively update the stored data to reflect the current page as being\n   * the page on which the last change event occured and measure visibility\n   * from that point.\n   * @return {!PageVisibilityStoreData}\n   */\n  getAndValidateChangeData() {\n    const lastStoredChange =\n        /** @type {PageVisibilityStoreData} */ (this.store.get());\n\n    if (this.lastPageState == VISIBLE &&\n        lastStoredChange.state == HIDDEN &&\n        lastStoredChange.pageId != PAGE_ID) {\n      lastStoredChange.state = VISIBLE;\n      lastStoredChange.pageId = PAGE_ID;\n      this.store.set(lastStoredChange);\n    }\n    return lastStoredChange;\n  }\n\n  /**\n   * Sends a Page Visibility event to track the time this page was in the\n   * visible state (assuming it was in that state long enough to meet the\n   * threshold).\n   * @param {!PageVisibilityStoreData} lastStoredChange\n   * @param {{hitTime: (number|undefined)}=} param1\n   *     - hitTime: A hit timestap used to help ensure original order in cases\n   *                where the send is delayed.\n   */\n  sendPageVisibilityEvent(lastStoredChange, {hitTime} = {}) {\n    const delta = this.getTimeSinceLastStoredChange(\n        lastStoredChange, {hitTime});\n\n    // If the detla is greater than the visibileThreshold, report it.\n    if (delta && delta >= this.opts.visibleThreshold) {\n      const deltaInSeconds = Math.round(delta / SECONDS);\n\n      /** @type {FieldsObj} */\n      const defaultFields = {\n        transport: 'beacon',\n        nonInteraction: true,\n        eventCategory: 'Page Visibility',\n        eventAction: 'track',\n        eventValue: deltaInSeconds,\n        eventLabel: NULL_DIMENSION,\n      };\n\n      if (hitTime) {\n        defaultFields.queueTime = now() - hitTime;\n      }\n\n      // If a custom metric was specified, set it equal to the event value.\n      if (this.opts.visibleMetricIndex) {\n        defaultFields['metric' + this.opts.visibleMetricIndex] = deltaInSeconds;\n      }\n\n      this.tracker.send('event',\n          createFieldsObj(defaultFields, this.opts.fieldsObj,\n              this.tracker, this.opts.hitFilter));\n    }\n  }\n\n  /**\n   * Sends a page load event.\n   */\n  sendPageLoad() {\n    /** @type {FieldsObj} */\n    const defaultFields = {\n      transport: 'beacon',\n      eventCategory: 'Page Visibility',\n      eventAction: 'page load',\n      eventLabel: NULL_DIMENSION,\n      ['metric' + this.opts.pageLoadsMetricIndex]: 1,\n      nonInteraction: true,\n    };\n    this.tracker.send('event',\n        createFieldsObj(defaultFields, this.opts.fieldsObj,\n            this.tracker, this.opts.hitFilter));\n  }\n\n  /**\n   * Sends a pageview, optionally calculating an offset if hitTime is passed.\n   * @param {{\n   *   hitTime: (number|undefined),\n   *   isPageLoad: (boolean|undefined)\n   * }=} param1\n   *     hitTime: The timestamp of the current hit.\n   *     isPageLoad: True if this pageview was also a page load.\n   */\n  sendPageview({hitTime, isPageLoad} = {}) {\n    /** @type {FieldsObj} */\n    const defaultFields = {transport: 'beacon'};\n    if (hitTime) {\n      defaultFields.queueTime = now() - hitTime;\n    }\n    if (isPageLoad && this.opts.pageLoadsMetricIndex) {\n      defaultFields['metric' + this.opts.pageLoadsMetricIndex] = 1;\n    }\n\n    this.tracker.send('pageview',\n        createFieldsObj(defaultFields, this.opts.fieldsObj,\n            this.tracker, this.opts.hitFilter));\n  }\n\n  /**\n   * Detects changes to the tracker object and triggers an update if the page\n   * field has changed.\n   * @param {function((Object|string), (string|undefined))} originalMethod\n   *     A reference to the overridden method.\n   * @return {function((Object|string), (string|undefined))}\n   */\n  trackerSetOverride(originalMethod) {\n    return (field, value) => {\n      /** @type {!FieldsObj} */\n      const fields = isObject(field) ? field : {[field]: value};\n      if (fields.page && fields.page !== this.tracker.get('page')) {\n        if (this.lastPageState == VISIBLE) {\n          this.handleChange();\n        }\n      }\n      originalMethod(field, value);\n    };\n  }\n\n  /**\n   * Calculates the time since the last visibility change event in the current\n   * session. If the session has expired the reported time is zero.\n   * @param {PageVisibilityStoreData} lastStoredChange\n   * @param {{hitTime: (number|undefined)}=} param1\n   *     hitTime: The time of the current hit (defaults to now).\n   * @return {number} The time (in ms) since the last change.\n   */\n  getTimeSinceLastStoredChange(lastStoredChange, {hitTime} = {}) {\n    return lastStoredChange.time ?\n        (hitTime || now()) - lastStoredChange.time : 0;\n  }\n\n  /**\n   * Handles responding to the `storage` event.\n   * The code on this page needs to be informed when other tabs or windows are\n   * updating the stored page visibility state data. This method checks to see\n   * if a hidden state is stored when there are still visible tabs open, which\n   * can happen if multiple windows are open at the same time.\n   * @param {PageVisibilityStoreData} newData\n   * @param {PageVisibilityStoreData} oldData\n   */\n  handleExternalStoreSet(newData, oldData) {\n    // If the change times are the same, then the previous write only\n    // updated the active page ID. It didn't enter a new state and thus no\n    // hits should be sent.\n    if (newData.time == oldData.time) return;\n\n    // Page Visibility events must be sent by the tracker on the page\n    // where the original event occurred. So if a change happens on another\n    // page, but this page is where the previous change event occurred, then\n    // this page is the one that needs to send the event (so all dimension\n    // data is correct).\n    if (oldData.pageId == PAGE_ID &&\n        oldData.state == VISIBLE &&\n        !this.session.isExpired(oldData.sessionId)) {\n      this.sendPageVisibilityEvent(oldData, {hitTime: newData.time});\n    }\n  }\n\n  /**\n   * Handles responding to the `unload` event.\n   * Since some browsers don't emit a `visibilitychange` event in all cases\n   * where a page might be unloaded, it's necessary to hook into the `unload`\n   * event to ensure the correct state is always stored.\n   */\n  handleWindowUnload() {\n    // If the stored visibility state isn't hidden when the unload event\n    // fires, it means the visibilitychange event didn't fire as the document\n    // was being unloaded, so we invoke it manually.\n    if (this.lastPageState != HIDDEN) {\n      this.handleChange();\n    }\n  }\n\n  /**\n   * Removes all event listeners and restores overridden methods.\n   */\n  remove() {\n    this.store.destroy();\n    this.session.destroy();\n    MethodChain.remove(this.tracker, 'set', this.trackerSetOverride);\n    window.removeEventListener('unload', this.handleWindowUnload);\n    document.removeEventListener('visibilitychange', this.handleChange);\n  }\n}\n\n\nprovide('pageVisibilityTracker', PageVisibilityTracker);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/autotrack/lib/plugins/page-visibility-tracker.js","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nimport {DEV_ID} from './constants';\nimport {capitalize} from './utilities';\n\n\n/**\n * Provides a plugin for use with analytics.js, accounting for the possibility\n * that the global command queue has been renamed or not yet defined.\n * @param {string} pluginName The plugin name identifier.\n * @param {Function} pluginConstructor The plugin constructor function.\n */\nexport default function provide(pluginName, pluginConstructor) {\n  const gaAlias = window.GoogleAnalyticsObject || 'ga';\n  window[gaAlias] = window[gaAlias] || function(...args) {\n    (window[gaAlias].q = window[gaAlias].q || []).push(args);\n  };\n\n  // Adds the autotrack dev ID if not already included.\n  window.gaDevIds = window.gaDevIds || [];\n  if (window.gaDevIds.indexOf(DEV_ID) < 0) {\n    window.gaDevIds.push(DEV_ID);\n  }\n\n  // Formally provides the plugin for use with analytics.js.\n  window[gaAlias]('provide', pluginName, pluginConstructor);\n\n  // Registers the plugin on the global gaplugins object.\n  window.gaplugins = window.gaplugins || {};\n  window.gaplugins[capitalize(pluginName)] = pluginConstructor;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/autotrack/lib/provide.js","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nimport MethodChain from './method-chain';\nimport Store from './store';\nimport {now, uuid} from './utilities';\n\n\nconst SECONDS = 1000;\nconst MINUTES = 60 * SECONDS;\n\n\nconst instances = {};\n\n\n/**\n * A session management class that helps track session boundaries\n * across multiple open tabs/windows.\n */\nexport default class Session {\n  /**\n   * Gets an existing instance for the passed arguments or creates a new\n   * instance if one doesn't exist.\n   * @param {!Tracker} tracker An analytics.js tracker object.\n   * @param {number} timeout The session timeout (in minutes). This value\n   *     should match what's set in the \"Session settings\" section of the\n   *     Google Analytics admin.\n   * @param {string=} timeZone The optional IANA time zone of the view. This\n   *     value should match what's set in the \"View settings\" section of the\n   *     Google Analytics admin. (Note: this assumes all views for the property\n   *     use the same time zone. If that's not true, it's better not to use\n   *     this feature).\n   * @return {Session} The Session instance.\n   */\n  static getOrCreate(tracker, timeout, timeZone) {\n    // Don't create multiple instances for the same property.\n    const trackingId = tracker.get('trackingId');\n    if (instances[trackingId]) {\n      return instances[trackingId];\n    } else {\n      return instances[trackingId] = new Session(tracker, timeout, timeZone);\n    }\n  }\n\n  /**\n   * @param {!Tracker} tracker An analytics.js tracker object.\n   * @param {number} timeout The session timeout (in minutes). This value\n   *     should match what's set in the \"Session settings\" section of the\n   *     Google Analytics admin.\n   * @param {string=} timeZone The optional IANA time zone of the view. This\n   *     value should match what's set in the \"View settings\" section of the\n   *     Google Analytics admin. (Note: this assumes all views for the property\n   *     use the same time zone. If that's not true, it's better not to use\n   *     this feature).\n   */\n  constructor(tracker, timeout, timeZone) {\n    this.tracker = tracker;\n    this.timeout = timeout || Session.DEFAULT_TIMEOUT;\n    this.timeZone = timeZone;\n\n    // Binds methods.\n    this.sendHitTaskOverride = this.sendHitTaskOverride.bind(this);\n\n    // Overrides into the trackers sendHitTask method.\n    MethodChain.add(tracker, 'sendHitTask', this.sendHitTaskOverride);\n\n    // Some browser doesn't support various features of the\n    // `Intl.DateTimeFormat` API, so we have to try/catch it. Consequently,\n    // this allows us to assume the presence of `this.dateTimeFormatter` means\n    // it works in the current browser.\n    try {\n      this.dateTimeFormatter =\n          new Intl.DateTimeFormat('en-US', {timeZone: this.timeZone});\n    } catch(err) {\n      // Do nothing.\n    }\n\n    /** @type {SessionStoreData} */\n    const defaultProps = {\n      hitTime: 0,\n      isExpired: false,\n    };\n    this.store = Store.getOrCreate(\n        tracker.get('trackingId'), 'session', defaultProps);\n\n    // Ensure the session has an ID.\n    if (!this.store.get().id) {\n      this.store.set(/** @type {SessionStoreData} */ ({id: uuid()}));\n    }\n  }\n\n  /**\n   * Returns the ID of the current session.\n   * @return {string}\n   */\n  getId() {\n    return this.store.get().id;\n  }\n\n  /**\n   * Accepts a session ID and returns true if the specified session has\n   * evidentially expired. A session can expire for two reasons:\n   *   - More than 30 minutes has elapsed since the previous hit\n   *     was sent (The 30 minutes number is the Google Analytics default, but\n   *     it can be modified in GA admin \"Session settings\").\n   *   - A new day has started since the previous hit, in the\n   *     specified time zone (should correspond to the time zone of the\n   *     property's views).\n   *\n   * Note: since real session boundaries are determined at processing time,\n   * this is just a best guess rather than a source of truth.\n   *\n   * @param {string} id The ID of a session to check for expiry.\n   * @return {boolean} True if the session has not exp\n   */\n  isExpired(id = this.getId()) {\n    // If a session ID is passed and it doesn't match the current ID,\n    // assume it's from an expired session. If no ID is passed, assume the ID\n    // of the current session.\n    if (id != this.getId()) return true;\n\n    /** @type {SessionStoreData} */\n    const sessionData = this.store.get();\n\n    // `isExpired` will be `true` if the sessionControl field was set to\n    // 'end' on the previous hit.\n    if (sessionData.isExpired) return true;\n\n    const oldHitTime = sessionData.hitTime;\n\n    // Only consider a session expired if previous hit time data exists, and\n    // the previous hit time is greater than that session timeout period or\n    // the hits occurred on different days in the session timezone.\n    if (oldHitTime) {\n      const currentDate = new Date();\n      const oldHitDate = new Date(oldHitTime);\n      if (currentDate - oldHitDate > (this.timeout * MINUTES) ||\n          this.datesAreDifferentInTimezone(currentDate, oldHitDate)) {\n        return true;\n      }\n    }\n\n    // For all other cases return false.\n    return false;\n  }\n\n  /**\n   * Returns true if (and only if) the timezone date formatting is supported\n   * in the current browser and if the two dates are definitively not the\n   * same date in the session timezone. Anything short of this returns false.\n   * @param {!Date} d1\n   * @param {!Date} d2\n   * @return {boolean}\n   */\n  datesAreDifferentInTimezone(d1, d2) {\n    if (!this.dateTimeFormatter) {\n      return false;\n    } else {\n      return this.dateTimeFormatter.format(d1)\n          != this.dateTimeFormatter.format(d2);\n    }\n  }\n\n  /**\n   * Keeps track of when the previous hit was sent to determine if a session\n   * has expired. Also inspects the `sessionControl` field to handles\n   * expiration accordingly.\n   * @param {function(!Model)} originalMethod A reference to the overridden\n   *     method.\n   * @return {function(!Model)}\n   */\n  sendHitTaskOverride(originalMethod) {\n    return (model) => {\n      originalMethod(model);\n\n      const sessionControl = model.get('sessionControl');\n      const sessionWillStart = sessionControl == 'start' || this.isExpired();\n      const sessionWillEnd = sessionControl == 'end';\n\n      /** @type {SessionStoreData} */\n      const sessionData = this.store.get();\n      sessionData.hitTime = now();\n      if (sessionWillStart) {\n        sessionData.isExpired = false;\n        sessionData.id = uuid();\n      }\n      if (sessionWillEnd) {\n        sessionData.isExpired = true;\n      }\n      this.store.set(sessionData);\n    };\n  }\n\n  /**\n   * Restores the tracker's original `sendHitTask` to the state before\n   * session control was initialized and removes this instance from the global\n   * store.\n   */\n  destroy() {\n    MethodChain.remove(this.tracker, 'sendHitTask', this.sendHitTaskOverride);\n    this.store.destroy();\n    delete instances[this.tracker.get('trackingId')];\n  }\n}\n\n\nSession.DEFAULT_TIMEOUT = 30; // minutes\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/autotrack/lib/session.js","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nimport EventEmitter from './event-emitter';\nimport {assign} from './utilities';\n\n\nconst AUTOTRACK_PREFIX = 'autotrack';\nconst instances = {};\nlet isListening = false;\n\n\n/** @type {boolean|undefined} */\nlet browserSupportsLocalStorage;\n\n\n/**\n * A storage object to simplify interacting with localStorage.\n */\nexport default class Store extends EventEmitter {\n  /**\n   * Gets an existing instance for the passed arguements or creates a new\n   * instance if one doesn't exist.\n   * @param {string} trackingId The tracking ID for the GA property.\n   * @param {string} namespace A namespace unique to this store.\n   * @param {Object=} defaults An optional object of key/value defaults.\n   * @return {Store} The Store instance.\n   */\n  static getOrCreate(trackingId, namespace, defaults) {\n    const key = [AUTOTRACK_PREFIX, trackingId, namespace].join(':');\n\n    // Don't create multiple instances for the same tracking Id and namespace.\n    if (!instances[key]) {\n      instances[key] = new Store(key, defaults);\n      if (!isListening) initStorageListener();\n    }\n    return instances[key];\n  }\n\n  /**\n   * Returns true if the browser supports and can successfully write to\n   * localStorage. The results is cached so this method can be invoked many\n   * times with no extra performance cost.\n   * @private\n   * @return {boolean}\n   */\n  static isSupported_() {\n    if (browserSupportsLocalStorage != null) {\n      return browserSupportsLocalStorage;\n    }\n\n    try {\n      window.localStorage.setItem(AUTOTRACK_PREFIX, AUTOTRACK_PREFIX);\n      window.localStorage.removeItem(AUTOTRACK_PREFIX);\n      browserSupportsLocalStorage = true;\n    } catch (err) {\n      browserSupportsLocalStorage = false;\n    }\n    return browserSupportsLocalStorage;\n  }\n\n  /**\n   * Wraps the native localStorage method for each stubbing in tests.\n   * @private\n   * @param {string} key The store key.\n   * @return {string|null} The stored value.\n   */\n  static get_(key) {\n    return window.localStorage.getItem(key);\n  }\n\n  /**\n   * Wraps the native localStorage method for each stubbing in tests.\n   * @private\n   * @param {string} key The store key.\n   * @param {string} value The value to store.\n   */\n  static set_(key, value) {\n    window.localStorage.setItem(key, value);\n  }\n\n  /**\n   * Wraps the native localStorage method for each stubbing in tests.\n   * @private\n   * @param {string} key The store key.\n   */\n  static clear_(key) {\n    window.localStorage.removeItem(key);\n  }\n\n  /**\n   * @param {string} key A key unique to this store.\n   * @param {Object=} defaults An optional object of key/value defaults.\n   */\n  constructor(key, defaults = {}) {\n    super();\n    this.key_ = key;\n    this.defaults_ = defaults;\n\n    /** @type {?Object} */\n    this.cache_ = null; // Will be set after the first get.\n  }\n\n  /**\n   * Gets the data stored in localStorage for this store. If the cache is\n   * already populated, return it as is (since it's always kept up-to-date\n   * and in sync with activity in other windows via the `storage` event).\n   * TODO(philipwalton): Implement schema migrations if/when a new\n   * schema version is introduced.\n   * @return {!Object} The stored data merged with the defaults.\n   */\n  get() {\n    if (this.cache_) {\n      return this.cache_;\n    } else {\n      if (Store.isSupported_()) {\n        try {\n          this.cache_ = parse(Store.get_(this.key_));\n        } catch(err) {\n          // Do nothing.\n        }\n      }\n      return this.cache_ = assign({}, this.defaults_, this.cache_);\n    }\n  }\n\n  /**\n   * Saves the passed data object to localStorage,\n   * merging it with the existing data.\n   * @param {Object} newData The data to save.\n   */\n  set(newData) {\n    this.cache_ = assign({}, this.defaults_, this.cache_, newData);\n\n    if (Store.isSupported_()) {\n      try {\n        Store.set_(this.key_, JSON.stringify(this.cache_));\n      } catch(err) {\n        // Do nothing.\n      }\n    }\n  }\n\n  /**\n   * Clears the data in localStorage for the current store.\n   */\n  clear() {\n    this.cache_ = {};\n    if (Store.isSupported_()) {\n      try {\n        Store.clear_(this.key_);\n      } catch(err) {\n        // Do nothing.\n      }\n    }\n  }\n\n  /**\n   * Removes the store instance for the global instances map. If this is the\n   * last store instance, the storage listener is also removed.\n   * Note: this does not erase the stored data. Use `clear()` for that.\n   */\n  destroy() {\n    delete instances[this.key_];\n    if (!Object.keys(instances).length) {\n      removeStorageListener();\n    }\n  }\n}\n\n\n/**\n * Adds a single storage event listener and flips the global `isListening`\n * flag so multiple events aren't added.\n */\nfunction initStorageListener() {\n  window.addEventListener('storage', storageListener);\n  isListening = true;\n}\n\n\n/**\n * Removes the storage event listener and flips the global `isListening`\n * flag so it can be re-added later.\n */\nfunction removeStorageListener() {\n  window.removeEventListener('storage', storageListener);\n  isListening = false;\n}\n\n\n/**\n * The global storage event listener.\n * @param {!Event} event The DOM event.\n */\nfunction storageListener(event) {\n  const store = instances[event.key];\n  if (store) {\n    const oldData = assign({}, store.defaults_, parse(event.oldValue));\n    const newData = assign({}, store.defaults_, parse(event.newValue));\n\n    store.cache_ = newData;\n    store.emit('externalSet', newData, oldData);\n  }\n}\n\n\n/**\n * Parses a source string as JSON\n * @param {string|null} source\n * @return {!Object} The JSON object.\n */\nfunction parse(source) {\n  let data = {};\n  if (source) {\n    try {\n      data = /** @type {!Object} */ (JSON.parse(source));\n    } catch(err) {\n      // Do nothing.\n    }\n  }\n  return data;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/autotrack/lib/store.js","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nimport {USAGE_PARAM, VERSION, VERSION_PARAM} from './constants';\n\n\nexport const plugins = {\n  CLEAN_URL_TRACKER: 1,\n  EVENT_TRACKER: 2,\n  IMPRESSION_TRACKER: 3,\n  MEDIA_QUERY_TRACKER: 4,\n  OUTBOUND_FORM_TRACKER: 5,\n  OUTBOUND_LINK_TRACKER: 6,\n  PAGE_VISIBILITY_TRACKER: 7,\n  SOCIAL_WIDGET_TRACKER: 8,\n  URL_CHANGE_TRACKER: 9,\n  MAX_SCROLL_TRACKER: 10,\n};\n\n\nconst PLUGIN_COUNT = Object.keys(plugins).length;\n\n\n/**\n * Tracks the usage of the passed plugin by encoding a value into a usage\n * string sent with all hits for the passed tracker.\n * @param {!Tracker} tracker The analytics.js tracker object.\n * @param {number} plugin The plugin enum.\n */\nexport function trackUsage(tracker, plugin) {\n  trackVersion(tracker);\n  trackPlugin(tracker, plugin);\n}\n\n\n/**\n * Converts a hexadecimal string to a binary string.\n * @param {string} hex A hexadecimal numeric string.\n * @return {string} a binary numeric string.\n */\nfunction convertHexToBin(hex) {\n  return parseInt(hex || '0', 16).toString(2);\n}\n\n\n/**\n * Converts a binary string to a hexadecimal string.\n * @param {string} bin A binary numeric string.\n * @return {string} a hexadecimal numeric string.\n */\nfunction convertBinToHex(bin) {\n  return parseInt(bin || '0', 2).toString(16);\n}\n\n\n/**\n * Adds leading zeros to a string if it's less than a minimum length.\n * @param {string} str A string to pad.\n * @param {number} len The minimum length of the string\n * @return {string} The padded string.\n */\nfunction padZeros(str, len) {\n  if (str.length < len) {\n    let toAdd = len - str.length;\n    while (toAdd) {\n      str = '0' + str;\n      toAdd--;\n    }\n  }\n  return str;\n}\n\n\n/**\n * Accepts a binary numeric string and flips the digit from 0 to 1 at the\n * specified index.\n * @param {string} str The binary numeric string.\n * @param {number} index The index to flip the bit.\n * @return {string} The new binary string with the bit flipped on\n */\nfunction flipBitOn(str, index) {\n  return str.substr(0, index) + 1 + str.substr(index + 1);\n}\n\n\n/**\n * Accepts a tracker and a plugin index and flips the bit at the specified\n * index on the tracker's usage parameter.\n * @param {Object} tracker An analytics.js tracker.\n * @param {number} pluginIndex The index of the plugin in the global list.\n */\nfunction trackPlugin(tracker, pluginIndex) {\n  const usageHex = tracker.get('&' + USAGE_PARAM);\n  let usageBin = padZeros(convertHexToBin(usageHex), PLUGIN_COUNT);\n\n  // Flip the bit of the plugin being tracked.\n  usageBin = flipBitOn(usageBin, PLUGIN_COUNT - pluginIndex);\n\n  // Stores the modified usage string back on the tracker.\n  tracker.set('&' + USAGE_PARAM, convertBinToHex(usageBin));\n}\n\n\n/**\n * Accepts a tracker and adds the current version to the version param.\n * @param {Object} tracker An analytics.js tracker.\n */\nfunction trackVersion(tracker) {\n  tracker.set('&' + VERSION_PARAM, VERSION);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/autotrack/lib/usage.js","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nimport {getAttributes} from 'dom-utils';\nimport MethodChain from './method-chain';\n\n\n/**\n * Accepts default and user override fields and an optional tracker, hit\n * filter, and target element and returns a single object that can be used in\n * `ga('send', ...)` commands.\n * @param {FieldsObj} defaultFields The default fields to return.\n * @param {FieldsObj} userFields Fields set by the user to override the\n *     defaults.\n * @param {Tracker=} tracker The tracker object to apply the hit filter to.\n * @param {Function=} hitFilter A filter function that gets\n *     called with the tracker model right before the `buildHitTask`. It can\n *     be used to modify the model for the current hit only.\n * @param {Element=} target If the hit originated from an interaction\n *     with a DOM element, hitFilter is invoked with that element as the\n *     second argument.\n * @param {(Event|TwttrEvent)=} event If the hit originated via a DOM event,\n *     hitFilter is invoked with that event as the third argument.\n * @return {!FieldsObj} The final fields object.\n */\nexport function createFieldsObj(\n    defaultFields, userFields, tracker = undefined,\n    hitFilter = undefined, target = undefined, event = undefined) {\n  if (typeof hitFilter == 'function') {\n    const originalBuildHitTask = tracker.get('buildHitTask');\n    return {\n      buildHitTask: (/** @type {!Model} */ model) => {\n        model.set(defaultFields, null, true);\n        model.set(userFields, null, true);\n        hitFilter(model, target, event);\n        originalBuildHitTask(model);\n      },\n    };\n  } else {\n    return assign({}, defaultFields, userFields);\n  }\n}\n\n\n/**\n * Retrieves the attributes from an DOM element and returns a fields object\n * for all attributes matching the passed prefix string.\n * @param {Element} element The DOM element to get attributes from.\n * @param {string} prefix An attribute prefix. Only the attributes matching\n *     the prefix will be returned on the fields object.\n * @return {FieldsObj} An object of analytics.js fields and values\n */\nexport function getAttributeFields(element, prefix) {\n  const attributes = getAttributes(element);\n  const attributeFields = {};\n\n  Object.keys(attributes).forEach(function(attribute) {\n    // The `on` prefix is used for event handling but isn't a field.\n    if (attribute.indexOf(prefix) === 0 && attribute != prefix + 'on') {\n      let value = attributes[attribute];\n\n      // Detects Boolean value strings.\n      if (value == 'true') value = true;\n      if (value == 'false') value = false;\n\n      const field = camelCase(attribute.slice(prefix.length));\n      attributeFields[field] = value;\n    }\n  });\n\n  return attributeFields;\n}\n\n\n/**\n * Accepts a function to be invoked once the DOM is ready. If the DOM is\n * already ready, the callback is invoked immediately.\n * @param {!Function} callback The ready callback.\n */\nexport function domReady(callback) {\n  if (document.readyState == 'loading') {\n    document.addEventListener('DOMContentLoaded', function fn() {\n      document.removeEventListener('DOMContentLoaded', fn);\n      callback();\n    });\n  } else {\n    callback();\n  }\n}\n\n\n/**\n * Returns a function, that, as long as it continues to be called, will not\n * actually run. The function will only run after it stops being called for\n * `wait` milliseconds.\n * @param {!Function} fn The function to debounce.\n * @param {number} wait The debounce wait timeout in ms.\n * @return {!Function} The debounced function.\n */\nexport function debounce(fn, wait) {\n  let timeout;\n  return function(...args) {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => fn(...args), wait);\n  };\n}\n\n\n/**\n * Accepts a function and returns a wrapped version of the function that is\n * expected to be called elsewhere in the system. If it's not called\n * elsewhere after the timeout period, it's called regardless. The wrapper\n * function also prevents the callback from being called more than once.\n * @param {!Function} callback The function to call.\n * @param {number=} wait How many milliseconds to wait before invoking\n *     the callback.\n * @return {!Function} The wrapped version of the passed function.\n */\nexport function withTimeout(callback, wait = 2000) {\n  let called = false;\n  const fn = function() {\n    if (!called) {\n      called = true;\n      callback();\n    }\n  };\n  setTimeout(fn, wait);\n  return fn;\n}\n\n// Maps trackers to queue by tracking ID.\nconst queueMap = {};\n\n/**\n * Queues a function for execution in the next call stack, or immediately\n * before any send commands are executed on the tracker. This allows\n * autotrack plugins to defer running commands until after all other plugins\n * are required but before any other hits are sent.\n * @param {!Tracker} tracker\n * @param {!Function} fn\n */\nexport function deferUntilPluginsLoaded(tracker, fn) {\n  const trackingId = tracker.get('trackingId');\n  const ref = queueMap[trackingId] = queueMap[trackingId] || {};\n\n  const processQueue = () => {\n    clearTimeout(ref.timeout);\n    if (ref.send) {\n      MethodChain.remove(tracker, 'send', ref.send);\n    }\n    delete queueMap[trackingId];\n\n    ref.queue.forEach((fn) => fn());\n  };\n\n  clearTimeout(ref.timeout);\n  ref.timeout = setTimeout(processQueue, 0);\n  ref.queue = ref.queue || [];\n  ref.queue.push(fn);\n\n  if (!ref.send) {\n    ref.send = (originalMethod) => {\n      return (...args) => {\n        processQueue();\n        originalMethod(...args);\n      };\n    };\n    MethodChain.add(tracker, 'send', ref.send);\n  }\n}\n\n\n/**\n * A small shim of Object.assign that aims for brevity over spec-compliant\n * handling all the edge cases.\n * @param {!Object} target The target object to assign to.\n * @param {...?Object} sources Additional objects who properties should be\n *     assigned to target. Non-objects are converted to objects.\n * @return {!Object} The modified target object.\n */\nexport const assign = Object.assign || function(target, ...sources) {\n  for (let i = 0, len = sources.length; i < len; i++) {\n    const source = Object(sources[i]);\n    for (let key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n  return target;\n};\n\n\n/**\n * Accepts a string containing hyphen or underscore word separators and\n * converts it to camelCase.\n * @param {string} str The string to camelCase.\n * @return {string} The camelCased version of the string.\n */\nexport function camelCase(str) {\n  return str.replace(/[\\-\\_]+(\\w?)/g, function(match, p1) {\n    return p1.toUpperCase();\n  });\n}\n\n\n/**\n * Capitalizes the first letter of a string.\n * @param {string} str The input string.\n * @return {string} The capitalized string\n */\nexport function capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\n\n/**\n * Indicates whether the passed variable is a JavaScript object.\n * @param {*} value The input variable to test.\n * @return {boolean} Whether or not the test is an object.\n */\nexport function isObject(value) {\n  return typeof value == 'object' && value !== null;\n}\n\n\n/**\n * Accepts a value that may or may not be an array. If it is not an array,\n * it is returned as the first item in a single-item array.\n * @param {*} value The value to convert to an array if it is not.\n * @return {!Array} The array-ified value.\n */\nexport function toArray(value) {\n  return Array.isArray(value) ? value : [value];\n}\n\n\n/**\n * @return {number} The current date timestamp\n */\nexport function now() {\n  return +new Date();\n}\n\n\n/*eslint-disable */\n// https://gist.github.com/jed/982883\n/** @param {?=} a */\nexport const uuid = function b(a){return a?(a^Math.random()*16>>a/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,b)};\n/*eslint-enable */\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/autotrack/lib/utilities.js","/**\n * Gets all attributes of an element as a plain JavaScriot object.\n * @param {Element} element The element whose attributes to get.\n * @return {!Object} An object whose keys are the attribute keys and whose\n *     values are the attribute values. If no attributes exist, an empty\n *     object is returned.\n */\nexport default function getAttributes(element) {\n  const attrs = {};\n\n  // Validate input.\n  if (!(element && element.nodeType == 1)) return attrs;\n\n  // Return an empty object if there are no attributes.\n  const map = element.attributes;\n  if (map.length === 0) return {};\n\n  for (let i = 0, attr; attr = map[i]; i++) {\n    attrs[attr.name] = attr.value;\n  }\n  return attrs;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/dom-utils/lib/get-attributes.js","const HTTP_PORT = '80';\nconst HTTPS_PORT = '443';\nconst DEFAULT_PORT = RegExp(':(' + HTTP_PORT + '|' + HTTPS_PORT + ')$');\n\n\nconst a = document.createElement('a');\nconst cache = {};\n\n\n/**\n * Parses the given url and returns an object mimicing a `Location` object.\n * @param {string} url The url to parse.\n * @return {!Object} An object with the same properties as a `Location`.\n */\nexport default function parseUrl(url) {\n  // All falsy values (as well as \".\") should map to the current URL.\n  url = (!url || url == '.') ? location.href : url;\n\n  if (cache[url]) return cache[url];\n\n  a.href = url;\n\n  // When parsing file relative paths (e.g. `../index.html`), IE will correctly\n  // resolve the `href` property but will keep the `..` in the `path` property.\n  // It will also not include the `host` or `hostname` properties. Furthermore,\n  // IE will sometimes return no protocol or just a colon, especially for things\n  // like relative protocol URLs (e.g. \"//google.com\").\n  // To workaround all of these issues, we reparse with the full URL from the\n  // `href` property.\n  if (url.charAt(0) == '.' || url.charAt(0) == '/') return parseUrl(a.href);\n\n  // Don't include default ports.\n  let port = (a.port == HTTP_PORT || a.port == HTTPS_PORT) ? '' : a.port;\n\n  // PhantomJS sets the port to \"0\" when using the file: protocol.\n  port = port == '0' ? '' : port;\n\n  // Sometimes IE incorrectly includes a port for default ports\n  // (e.g. `:80` or `:443`) even when no port is specified in the URL.\n  // http://bit.ly/1rQNoMg\n  const host = a.host.replace(DEFAULT_PORT, '');\n\n  // Not all browser support `origin` so we have to build it.\n  const origin = a.origin ? a.origin : a.protocol + '//' + host;\n\n  // Sometimes IE doesn't include the leading slash for pathname.\n  // http://bit.ly/1rQNoMg\n  const pathname = a.pathname.charAt(0) == '/' ? a.pathname : '/' + a.pathname;\n\n  return cache[url] = {\n    hash: a.hash,\n    host: host,\n    hostname: a.hostname,\n    href: a.href,\n    origin: origin,\n    pathname: pathname,\n    port: port,\n    protocol: a.protocol,\n    search: a.search,\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/dom-utils/lib/parse-url.js"],"sourceRoot":""}